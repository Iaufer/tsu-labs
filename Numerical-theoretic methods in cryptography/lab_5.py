from sympy.ntheory.factor_ import totient
import random

def test_MR(n, t):
    if n > 3:
        r = n -1
        s = 0
        while r % 2 == 0:
            r = r // 2
            s += 1
        
        while t:
            b = random.randint(2, n - 2)
            y = pow(b, r, n)
            if y != 1 and y !=  n  -1:
                j = 1
                while j < s and y != n - 1:
                    y = pow(y, 2, n)
                    if y == 1:
                        print("Составное!")
                        return
                    j += 1
                if y != n - 1:
                    print("Составное!")
                    return
            t -= 1

        print("Простое!")

    else:
        print("Число слишком четное!")



def error(n, t):
    return float((totient(n) / (4 * n)) ** t)



n = 69614728534842129315660054209345506528955014900790690979223845303645484187638353716843585379072206807799748034732649782352127734963700323037242013750204933860568787518669061860309742237776258490181863551455115119386401697985289566210935709141816012521045170500039365931103845408742339613969797601868988866492350551276283284538357626172844813070030350208539296549674310109880380302436393807568868013270627323905951926474071110093229634057954480975560844189789562351518404578590901003161213236982033283991398505594556722945059710068597848243402851804592419963212412910532364730385659797952743525815563004083
t = 2
# n = 75361
# t = 100
test_MR(n, t)
print(round(error(n, t), 5))
print(error(n, t))
